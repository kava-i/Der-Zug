<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Game*Creator - {{name}}</title>

    <link href="/favicon.png" rel="icon" type="image/png"/>

    <!-- <link rel="stylesheet", href="bootstrap/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link href="/web/general.css" rel="stylesheet">

    <script src="/web/general.js"></script>
    <script src="/web/fuzzy_finder.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
</head>

<body>
<nav aria-label="breadcrumb">
    <ol class=breadcrumb>
        <li class="breadcrumb-item"><a href="/">Game*Creator</a></li>
        <li class="breadcrumb-item"><a href="/login">Login</a></li>
        <li class="breadcrumb-item"><a href="/overview">Overview</a></li>
        {% for parent_path, parent_name in __parents %}
          {% if loop.is_last %}
            <li class="breadcrumb-item active" aria-current="page"><a>{{name}}</a></li>
          {% else %}
            <li class="breadcrumb-item"><a href="/{{parent_path}}">{{parent_name}}</a></li>
          {% endif %}
        {% endfor %}
    </ol>
</nav>

<div id="fuzzy_finder_div" class="fuzzy_finder" pages={{__short_paths}} page_objects={{nodes}}>
  <div class="fuzzy_finder_center">
    <label id="fuzzy_finder_mode" style="color:#1fe921;">files: </label><input id="fuzzy_finder_inp">
    <ol id="fuzzy_finder_elems" class="fuzzy_finder_elems">
  </div>
</div>

<div class="top_right">
  <img src="/web/logo.png" style="width:120px; height:63px;margin-bottom:0.5em;"><br>
  <p class="fuzzy_finder_focused" 
    title="Fuzzy finder active. Press any key to fuzzy search for pages/files/objects">
      fuzzy_finder
  </p>
</div>

{{ log("rendered header") }}

<div class="box_overview center_in_box">
  <h1>{{name}}</h1>
    <div class="controlers">
        <table id="controller">
          {% for node in nodes %}
            <tr>
              <td>
                <a class="medium" href="{{node.0}}">{{node.1}}</a>
              </td>
              <td>
                <i class="fas fa-minus button2" 
                  onclick="OpenDelElemModal('subcategory', '{{node.1}}');return true"></i>
              </td>
            </tr>
          {% endfor %}
        </table>
    </div>
    <i class="fas fa-plus button" onclick="OpenAddElemModal();return true"></i>
</div>

{{ log("rendered subcategories") }}

<div id="modal_del_elem" class="modal">
  <div class="modal-content">
    <span class="close" id="close_modal" onclick="CloseModul()">&times;</span>
    <div class="content_center">
      <div class="item"><p id="check_msg" elem_name=""></div>
      <div class="item"><p id="del_error" class="user_error"></p></div>
      <div><button type="button" class="pure-button" id="btn_del_elem"
                                 onclick="DelElem()">Delete</button></div>
      <div><button type="button" class="pure-button" id="force_del_elem"
                   style="display: none;" onclick="DelElem(true)">Force Delete</button></div>

    </div>
  </div>
</div>

<div id="modal_add_elem" class="modal">
  <div class="modal-content">
    <span class="close" id="close_modal" onclick="CloseModul()">&times;</span>
    <div class="content_center">
      <div class="item"><input id="name" placeholder="name"></div>
      <div class="item"><p id="add_error" class="user_error"></p></div>
      <div><button type="button" class="pure-button" id="btn_add_elem"
                                 onclick="AddElem('subcategory')">Add</button></div>
      <div><button type="button" class="pure-button" id="force_add_elem"
          style="display: none;" onclick="AddElem('subcategory', true)">Forece Add</button></div>
    </div>
  </div>
</div>

</body>
